<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>VALGASIN SAS ESP</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="keywords" />
    <meta content="" name="description" />

    <!-- Icon Font Stylesheet -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet" />
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet" />
  </head>

  <body>
    <!-- Spinner Start -->
    <div
      id="spinner"
      class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center"
    >
      <div class="spinner-grow text-primary" role="status"></div>
    </div>
    <!-- Spinner End -->

    <!-- Navbar Start -->
    <nav
      class="navbar navbar-expand-lg bg-white navbar-light sticky-top px-4 px-lg-5 py-lg-0"
    >
      <a href="index.html" class="navbar-brand d-flex align-items-center">
        <h1 class="m-0">
          <img src="img/Titulo.jpg" width="450" height="110">
        </h1>
      </a>
      <button
        type="button"
        class="navbar-toggler"
        data-bs-toggle="collapse"
        data-bs-target="#navbarCollapse"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav ms-auto py-3 py-lg-0">
          <a href="index.html" class="nav-item nav-link active">Inicio</a>
          <a href="#primero" class="nav-item nav-link">Sobre nosotros</a>
          <a href="pqr.html" class="nav-item nav-link">Contactenos</a>
      </div>
    </nav>

    <div class="header-line" style="height: 4px; background: linear-gradient(90deg, #007bff, #00ff88); width: 100%;"></div>
    <!-- Navbar End -->

    <!-- Formulario con Estética Original y Formspree -->
    <div class="container py-5">
      <div class="row justify-content-center">
          <div class="col-lg-8">
              <div class="card shadow">
                  <div class="card-header bg-primary text-white">
                      <h4 class="mb-0"><i class="fas fa-envelope me-2"></i>Formulario de Contacto</h4>
                  </div>
                  <div class="card-body">
                      <form id="contactForm">
                          <!-- Campos ocultos para Formspree -->
                          <input type="hidden" name="_next" value="">
                          <input type="hidden" name="_subject" value="Nueva solicitud PQR - VALGASIN">
                          <input type="hidden" name="_language" value="es">
                          
                          <!-- Tipo de Cliente -->
                          <div class="mb-3">
                              <label class="form-label">Tipo de cliente</label>
                              <select class="form-select" id="tipoCliente" name="Tipo de cliente" required>
                                  <option value="" selected disabled>Seleccione...</option>
                                  <option value="Persona natural">Persona natural</option>
                                  <option value="Empresa">Empresa</option>
                              </select>
                          </div>

                          <!-- Nombre/Razón Social -->
                          <div class="mb-3">
                              <label id="nombreLabel" class="form-label">Nombres y Apellidos</label>
                              <input type="text" class="form-control" id="nombre" name="Nombre completo" required>
                          </div>

                          <!-- Tipo de Solicitud -->
                          <div class="mb-3">
                              <label class="form-label">Tipo de solicitud</label>
                              <select class="form-select" id="tipoSolicitud" name="Tipo de solicitud" required>
                                  <option value="" selected disabled>Seleccione...</option>
                                  <option value="Petición">Petición</option>
                                  <option value="Queja">Queja</option>
                                  <option value="Reclamo">Reclamo</option>
                                  <option value="Felicitación">Felicitación</option>
                              </select>
                          </div>

                          <!-- Descripción -->
                          <div class="mb-3">
                              <label class="form-label">Describa su solicitud</label>
                              <textarea class="form-control" id="mensaje" name="Mensaje" rows="3" required></textarea>
                          </div>

                          <!-- Contacto -->
                          <div class="row mb-3">
                              <div class="col-md-6">
                                  <label class="form-label">Correo electrónico</label>
                                  <input type="email" class="form-control" id="email" name="Correo electrónico" required>
                              </div>
                              <div class="col-md-6">
                                  <label class="form-label">Número de celular</label>
                                  <input type="tel" class="form-control" id="celular" name="Teléfono" required>
                              </div>
                          </div>

                          <!-- Tratativa de datos -->
                          <div class="col-12">
                              <div class="form-check mb-3">
                                  <input class="form-check-input" type="checkbox" id="privacidad" name="Aceptó política de privacidad" required>
                                  <label class="form-check-label" for="privacidad" style="font-size: 0.75rem; color: #6c757d; line-height: 1.3;">
                                    Autorizo de manera libre, previa, informada y explícita a Valgasin SAS ESP para el tratamiento de mis datos personales, conforme a la ley 1581 de 2012 y sus decretos reglamentarios. Asimismo, confirmo que he leído, estoy de acuerdo y acepto la política de tratamiento de datos publicada en <a href="https://www.sic.gov.co/content/sobre-la-protecci%C3%B3n-de-datos-personales" target="_blank" style="color: #6c757d; text-decoration: underline;">el siguiente link</a>. También manifiesto que se me han informado mis derechos de conocer, actualizar, rectificar o solicitar la supresión de mis datos personales, a través del correo electrónico valgasinsasesp@gmail.com.
                                  </label>
                              </div>
                          </div>

                          <!-- Botón de enviar -->
                          <div class="d-grid">
                              <button type="submit" class="btn btn-primary py-2">
                                  <i class="fas fa-paper-plane me-2"></i>Enviar Mensaje
                              </button>
                          </div>
                          
                          <!-- Mensaje de estado (oculto inicialmente) -->
                          <div id="formStatus" class="mt-3 text-center" style="display: none;"></div>
                      </form>
                  </div>
              </div>
          </div>
      </div>
    </div>

    <!-- Footer Start -->
    <div
      class="container-fluid bg-dark footer mt-5 pt-5 wow fadeIn"
      data-wow-delay="0.1s"
    >
      <div class="container py-5">
        <div class="row g-5">
          <div class="col-lg-3 col-md-6">
            <h1 class="text-white mb-4">
             <p class="text-primary"><< <i class="fa fa-truck  fa-2x text-primary me-3"></i> </p>ValGasin
            </h1>
            <p>
              
            </p>
            <div class="d-flex pt-2">
              
            </div>
          </div>
          <div class="col-lg-3 col-md-6">
            <h4 class="text-light mb-4">Dirección</h4>
            <p><i class="fa fa-map-marker-alt me-3"></i>Soacha - Cundinamarca</p>
            <p><i class="fa fa-map-marker-alt me-3"></i>Cr 2 No. 56 66</p>
          </div>
          <div class="col-lg-3 col-md-6">
            <h4 class="text-light mb-4">Contactenos</h4>
            <p><i class="fa fa-phone-alt me-3"></i>+57 3112549421</p>
            <p><i class="fa fa-phone-alt me-3"></i>+57 3106103457</p>
          </div>
          <div class="col-lg-3 col-md-6">
            <h4 class="text-light mb-4">Correo:</h4>
            <p><i class="fa fa-envelope me-3"></i>valgasinsasesp@gmail.com</p>
          </div>
        </div>
      </div>
      <div class="container-fluid copyright">
        <div class="container">
          <div class="row">
            <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
              &copy; <a href="#">Valgasin</a>, Todo reservado.
            </div>
            <div class="col-md-6 text-center text-md-end">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Footer End -->

    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"
      ><i class="bi bi-arrow-up"></i
    ></a>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <!-- Script para el formulario -->
    <script>
      // Cambiar label según tipo de cliente
      document.getElementById('tipoCliente').addEventListener('change', function() {
          const label = document.getElementById('nombreLabel');
          label.textContent = this.value === 'Empresa' ? 'Razón Social' : 'Nombres y Apellidos';
      });

      // Manejo del envío del formulario
      document.getElementById('contactForm').addEventListener('submit', async function(e) {
          e.preventDefault();
          const form = e.target;
          const submitButton = form.querySelector('button[type="submit"]');
          const statusDiv = document.getElementById('formStatus');
          
          // Validar checkbox de privacidad
          if (!document.getElementById('privacidad').checked) {
              alert('Debe aceptar la política de tratamiento de datos');
              return;
          }
          
          // Mostrar estado de carga
          submitButton.disabled = true;
          submitButton.innerHTML = '<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span> Enviando...';
          statusDiv.style.display = 'block';
          statusDiv.innerHTML = '<div class="alert alert-info">Enviando su mensaje, por favor espere...</div>';
          
          try {
              // Crear FormData
              const formData = new FormData();
              formData.append('_next', form.querySelector('[name="_next"]').value);
              formData.append('_subject', form.querySelector('[name="_subject"]').value);
              formData.append('_language', 'es');
              formData.append('Tipo de cliente', document.getElementById('tipoCliente').value);
              formData.append('Nombre completo', document.getElementById('nombre').value);
              formData.append('Tipo de solicitud', document.getElementById('tipoSolicitud').value);
              formData.append('Mensaje', document.getElementById('mensaje').value);
              formData.append('Correo electrónico', document.getElementById('email').value);
              formData.append('Teléfono', document.getElementById('celular').value);
              formData.append('Aceptó política de privacidad', 'Sí');
              
              // Enviar a Formspree
              const response = await fetch('https://formspree.io/f/mvgaqkdj', {
                  method: 'POST',
                  body: formData,
                  headers: {
                      'Accept': 'application/json'
                  }
              });
              
              if (response.ok) {
                  statusDiv.innerHTML = '<div class="alert alert-success">¡Mensaje enviado con éxito! Nos pondremos en contacto pronto.</div>';
                  form.reset();
                  
                  // Redireccionar después de 3 segundos
                  setTimeout(() => {
                      window.location.href = form.querySelector('[name="_next"]').value;
                  }, 3000);
              } else {
                  throw new Error('Error en el servidor');
              }
          } catch (error) {
              console.error('Error:', error);
              statusDiv.innerHTML = '<div class="alert alert-danger">Hubo un error al enviar el mensaje. Por favor intente nuevamente.</div>';
          } finally {
              submitButton.disabled = false;
              submitButton.innerHTML = '<i class="fas fa-paper-plane me-2"></i>Enviar Mensaje';
          }
      });
    </script>
  </body>
</html>

